# ========================================
# TELEGRAM BOT CONFIGURATION
# ========================================
# Complete environment variable reference for the Telegram Media Catalog Bot
# All configuration is managed through environment variables for security and portability
# Perfect for deployment on Render.com or any cloud platform

# ========================================
# REQUIRED VARIABLES
# ========================================

# BOT_TOKEN (Required)
# Your Telegram Bot API token from @BotFather
# How to get:
#   1. Message @BotFather on Telegram
#   2. Send /newbot and follow the prompts
#   3. Copy the token provided (format: 123456789:ABCdefGHIjklMNOpqrsTUVwxyz)
# Security: Never commit this token to version control
BOT_TOKEN=your_bot_token_here

# MULTI-BOT SUPPORT (Optional)
# Support for running multiple bot instances from the same deployment
# Each bot will have its own webhook endpoint:
#   - Primary bot (BOT_TOKEN) uses /webhook
#   - BOT_TOKEN_1 uses /webhook/1
#   - BOT_TOKEN_2 uses /webhook/2
#   - BOT_TOKEN_3 uses /webhook/3
#   - etc.
# 
# To enable multi-bot support:
#   1. Set BOT_TOKEN_1, BOT_TOKEN_2, etc. with additional bot tokens
#   2. Configure each bot's webhook in Telegram to point to the correct endpoint
#   3. All bots share the same database and configuration
#
# Example:
# BOT_TOKEN_1=123456789:ABCdefGHIjklMNOpqrsTUVwxyz
# BOT_TOKEN_2=987654321:ZYXwvuTSRqponMLKjihGFEdcba
# BOT_TOKEN_3=555555555:AAAaaaBBBbbbCCCcccDDDdddEEE

# CHANNEL_ID (Required - use this OR CHANNEL_USERNAME)
# The numeric ID of your Telegram channel where products are posted
# Format: Must be a negative number (e.g., -1001234567890)
# How to get:
#   1. Forward any message from your channel to @userinfobot or @getidsbot
#   2. The bot will reply with the channel ID
# Note: The bot must be an admin in this channel with "Post messages" permission
CHANNEL_ID=-1001234567890

# ADMIN_IDS (Required)
# Comma-separated list of Telegram user IDs who can manage the bot
# These users will have access to admin commands like /stats, /nuke, /users, etc.
# Format: Comma-separated numbers (e.g., 123456789,987654321,555555555)
# How to get your user ID:
#   1. Message @userinfobot on Telegram
#   2. The bot will reply with your user ID
# Note: At least one admin ID is required for bot operation
ADMIN_IDS=123456789,987654321

# PRIMARY_ADMIN_ID (Optional)
# Primary admin who receives categorization requests
# If not set, the first admin in ADMIN_IDS will receive categorization requests
# All admins in ADMIN_IDS can still categorize products, but only this admin receives the initial notification
# Format: Single numeric user ID (e.g., 123456789)
# How to get: Same as ADMIN_IDS - message @userinfobot on Telegram
# PRIMARY_ADMIN_ID=

# ========================================
# OPTIONAL VARIABLES
# ========================================

# CHANNEL_USERNAME (Optional - alternative to CHANNEL_ID)
# The username of your channel (if you prefer using username instead of ID)
# Format: @channelname (include the @ symbol)
# Example: @mycatalogchannel
# Note: Use either CHANNEL_ID or CHANNEL_USERNAME, not both
# CHANNEL_USERNAME=@mychannel

# DB_PATH (Optional)
# Path to the SQLite database file
# Default: catalog.db (stored in the current directory)
# For Render.com: Use a persistent disk path if available
# Example for persistent storage: /opt/render/project/data/catalog.db
# DB_PATH=catalog.db

# USE_WEBHOOK (Optional)
# Enable webhook mode for receiving updates (recommended for production)
# Set to 'true' for deployment on Render, Railway, Heroku, etc.
# Set to 'false' for local development (uses polling)
# Default: false
# Render.com: Set to true
# USE_WEBHOOK=false

# WEBHOOK_URL (Required if USE_WEBHOOK=true)
# Your public webhook URL where Telegram will send updates
# Format: https://your-domain.com (no trailing slash)
# For Render.com: https://your-app-name.onrender.com
# Note: Must be HTTPS (HTTP not supported by Telegram)
# WEBHOOK_URL=https://your-app.onrender.com

# ORDER_CONTACT (Optional)
# Telegram handle or contact info shown in product views for placing orders
# Format: @username or any text (e.g., "Contact @seller" or "+1234567890")
# Default: @FLYAWAYPEP
# This appears in messages like "DM TO ORDER:@FLYAWAYPEP"
# ORDER_CONTACT=@FLYAWAYPEP

# ========================================
# RENDER.COM DEPLOYMENT NOTES
# ========================================
# When deploying to Render.com:
# 1. Set all required variables in Render's Environment section
# 2. Set USE_WEBHOOK=true
# 3. Set WEBHOOK_URL=https://your-app-name.onrender.com
# 4. Use render.yaml for automatic deployment (see render.yaml in project root)
# 5. Consider using a persistent disk for DB_PATH to preserve data across deploys
# 
# For persistent database on Render:
# 1. Create a disk in Render dashboard
# 2. Mount it to /opt/render/project/data
# 3. Set DB_PATH=/opt/render/project/data/catalog.db
#
# MULTI-BOT DEPLOYMENT (All bots in same webservice):
# 1. Add additional bot tokens: BOT_TOKEN_1, BOT_TOKEN_2, BOT_TOKEN_3, etc.
# 2. All bots run in the SAME Render webservice instance
# 3. Each bot automatically gets its own webhook endpoint:
#    - Primary bot (BOT_TOKEN): /webhook
#    - Secondary bot 1 (BOT_TOKEN_1): /webhook/1
#    - Secondary bot 2 (BOT_TOKEN_2): /webhook/2
#    - etc.
# 4. Configure each bot's webhook using Telegram Bot API:
#    curl "https://api.telegram.org/bot<BOT_TOKEN>/setWebhook?url=https://your-app.onrender.com/webhook"
#    curl "https://api.telegram.org/bot<BOT_TOKEN_1>/setWebhook?url=https://your-app.onrender.com/webhook/1"
#    curl "https://api.telegram.org/bot<BOT_TOKEN_2>/setWebhook?url=https://your-app.onrender.com/webhook/2"
# 5. All bots share the same database and configuration
# 6. No need to deploy multiple Render services!

# ========================================
# SECURITY BEST PRACTICES
# ========================================
# - Never commit .env file to version control
# - Keep BOT_TOKEN secret and rotate if compromised
# - Only give admin access to trusted users
# - Use HTTPS for webhook URLs
# - Regularly review ADMIN_IDS list
# - Use environment variables on hosting platform (Render, Railway, etc.)

# ========================================
# VALIDATION
# ========================================
# The bot validates all required variables on startup
# If any required variable is missing or invalid, you'll see a clear error message
# Check logs for configuration validation results
